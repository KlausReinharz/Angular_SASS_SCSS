<form [formGroup]="parent" class="experiences">
  <div [formArrayName]="name" *ngIf="parent.controls[name]">
    <div class="experience" *ngFor="let experiences of getControls(); let i=index; let first=first">

      <div [formGroupName]="i">
        <app-form-field label="Empresa" [required]="true" [control]="getControl(experiences, 'companyName')">
          <app-input formControlName="companyName"></app-input>
        </app-form-field>


        <app-form-field label="Periodo Laboral" [required]="true" [control]="getControl(experiences, 'period')">
          <app-date-range formArraylName="period"></app-date-range>
      </app-form-field>


      </div>

      <div class="experiences__footer">
        <app-button *ngIf="!first" (click)="deleteExperience(i)">Eliminar</app-button>
      </div>

    </div>

  </div>

  <div class="experiences__footer">
    <app-button (click)="addExperience()">Agregar</app-button>
  </div>

</form>



